<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Regression for Depression</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="image/icons-brain.png"/>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://github.com/KellyLuo233/mental_illness.github.io.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://youtube.com">
    <span class="fa fa-play-circle fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data_process.html">Data Processing </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mental_illness_report.html">Mental Illness</a>
    </li>
    <li>
      <a href="anxiety_report.html">Anxiety</a>
    </li>
    <li>
      <a href="depression_report.html">Depression</a>
    </li>
    <li>
      <a href="suicide_report.html">Suicide</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="anxiety_model.html">Anxiety</a>
    </li>
    <li>
      <a href="depression_model.html">Depression</a>
    </li>
    <li>
      <a href="suicide_model.html">Suicide</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Dashboard
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mental_dashboard.html">Mental Illness</a>
    </li>
    <li>
      <a href="anxiety_trend_dashboard.html">Anxiety Trend</a>
    </li>
    <li>
      <a href="depression_trend_dashboard.html">Depression Trend</a>
    </li>
    <li>
      <a href="suicide_dashboard.html">Suicide Trend</a>
    </li>
  </ul>
</li>
<li>
  <a href="project_report.html">Project Report</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Regression for Depression</h1>

</div>


<pre class="r"><code>regression_df = 
  read_csv(&quot;data/nhis_data01.csv&quot;) %&gt;% 
  janitor::clean_names() %&gt;% 
  filter(year == 2020) %&gt;% 
  select(worrx, deprx, age, sex, poverty, marst, cvddiag) %&gt;% 
  mutate(
    sex = recode_factor(sex, 
                        &quot;1&quot; = &quot;_Male&quot;, 
                        &quot;2&quot; = &quot;_Female&quot;),
    marital_status = recode_factor(marst, 
                        &quot;10&quot; = &quot;_Married&quot;, &quot;11&quot; = &quot;_Married&quot;,&quot;12&quot; = &quot;_Married&quot;,&quot;13&quot; = &quot;_Married&quot;,
                        &quot;20&quot; = &quot;_Widowed&quot;,&quot;30&quot; = &quot;_Divorced&quot;,&quot;40&quot; = &quot;_Separated&quot;,
                        &quot;50&quot; = &quot;_Never married&quot;),
    poverty = recode_factor(poverty, 
                        &quot;11&quot; = &quot;_Less than 1.0&quot;, &quot;12&quot; = &quot;_Less than 1.0&quot;, 
                        &quot;13&quot; = &quot;_Less than 1.0&quot;, &quot;14&quot; = &quot;_Less than 1.0&quot;,
                        &quot;21&quot; = &quot;_1.0-2.0&quot;, &quot;22&quot; = &quot;_1.0-2.0&quot;, 
                        &quot;23&quot; = &quot;_1.0-2.0&quot;, &quot;24&quot; = &quot;_1.0-2.0&quot;, 
                        &quot;25&quot; = &quot;_1.0-2.0&quot;,
                        &quot;31&quot; = &quot;_2.0 and above&quot;,&quot;32&quot; = &quot;_2.0 and above&quot;,
                        &quot;33&quot; = &quot;_2.0 and above&quot;,&quot;34&quot; = &quot;_2.0 and above&quot;,
                        &quot;35&quot; = &quot;_2.0 and above&quot;,&quot;36&quot; = &quot;_2.0 and above&quot;,
                        &quot;37&quot; = &quot;_2.0 and above&quot;,&quot;38&quot; = &quot;_2.0 and above&quot;),
    age = ifelse(age&gt;=85, NA, age),
    worrx = ifelse(worrx&gt;=3, NA, worrx),
    deprx = ifelse(deprx&gt;=3, NA, deprx),
    worrx = recode_factor(worrx,
                          &#39;1&#39; = 0, 
                          &#39;2&#39; = 1),
    deprx = recode_factor(deprx, &#39;1&#39; = 0, &#39;2&#39; = 1),
    cvddiag = recode_factor(cvddiag, 
                            &quot;1&quot; = &quot;_Never had COVID-19&quot;, 
                          &quot;2&quot; = &quot;_Had COVID-19&quot;)
    ) %&gt;%
  drop_na(age, worrx, deprx, sex, poverty, marital_status, cvddiag)</code></pre>
<pre class="r"><code>mosi_regression_df = 
  read_csv(&quot;data/nhis_data01.csv&quot;) %&gt;% 
  janitor::clean_names() %&gt;% 
  filter(year == 2020) %&gt;% 
  select(worrx, deprx, age, sex, poverty, marst, cvddiag) %&gt;% 
  mutate(
    sex = recode_factor(sex, 
                        &quot;1&quot; = &quot;Male&quot;, 
                        &quot;2&quot; = &quot;Female&quot;),
    marital_status = recode_factor(marst, 
                        &quot;10&quot; = &quot;Married&quot;, &quot;11&quot; = &quot;Married&quot;,&quot;12&quot; = &quot;Married&quot;,&quot;13&quot; = &quot;Married&quot;,
                        &quot;20&quot; = &quot;Widowed&quot;,&quot;30&quot; = &quot;Divorced&quot;,&quot;40&quot; = &quot;Separated&quot;,
                        &quot;50&quot; = &quot;Never married&quot;),
    poverty = recode_factor(poverty, 
                        &quot;11&quot; = &quot;Less than 1.0&quot;, &quot;12&quot; = &quot;Less than 1.0&quot;, 
                        &quot;13&quot; = &quot;Less than 1.0&quot;, &quot;14&quot; = &quot;Less than 1.0&quot;,
                        &quot;21&quot; = &quot;1.0-2.0&quot;, &quot;22&quot; = &quot;1.0-2.0&quot;, 
                        &quot;23&quot; = &quot;1.0-2.0&quot;, &quot;24&quot; = &quot;1.0-2.0&quot;, 
                        &quot;25&quot; = &quot;1.0-2.0&quot;,
                        &quot;31&quot; = &quot;2.0 and above&quot;,&quot;32&quot; = &quot;2.0 and above&quot;,
                        &quot;33&quot; = &quot;2.0 and above&quot;,&quot;34&quot; = &quot;2.0 and above&quot;,
                        &quot;35&quot; = &quot;2.0 and above&quot;,&quot;36&quot; = &quot;2.0 and above&quot;,
                        &quot;37&quot; = &quot;2.0 and above&quot;,&quot;38&quot; = &quot;2.0 and above&quot;),
    age = ifelse(age&gt;=85, NA, age),
    worrx = ifelse(worrx&gt;=3, NA, worrx),
    deprx = ifelse(deprx&gt;=3, NA, deprx),
    worrx = recode_factor(worrx,
                          &#39;1&#39; = &#39;No&#39;, 
                          &#39;2&#39; = &#39;Yes&#39;),
    deprx = recode_factor(deprx, &#39;1&#39; = &#39;No&#39;, &#39;2&#39; = &#39;Yes&#39;),
    cvddiag = recode_factor(cvddiag, 
                            &quot;1&quot; = &quot;Never had COVID-19&quot;, 
                          &quot;2&quot; = &quot;Had COVID-19&quot;)
    ) %&gt;%
  drop_na(age, worrx, deprx, sex, poverty, marital_status, cvddiag)</code></pre>
<p>Whether taken medication for depression is associated with COVID-19
adjusting for age, sex, family income level and current marital
status.</p>
<div id="mosaic-plot" class="section level2">
<h2>Mosaic Plot</h2>
<p>The Mosaic Plot included four categorical variables and it was used
to visualize the proportional relationship between these variables and
the outcome (whether or not taken medication for depression) in the
population.</p>
<p>Based on the plot, we can observe that compared to the other three
variables (sex, family income level, and current marital status), there
was no obvious difference in the proportion of people who took
medication for depression when comparing those who had COVID-19 with
those who never had COVID-19. That is, having had COVID-19 or not had no
significant effect on whether or not taking medication for depression in
the population.</p>
<p>In truth, when comparing male with female, we can observe the largest
difference in the proportion of people who took medication for
depression. It means that among those four variables, the variable sex
has the largest difference in the proportion of people who took
medication for depression.</p>
<pre class="r"><code>sex_deprx = 
  mosi_regression_df %&gt;%
  ggplot() + 
  geom_mosaic(
    aes(
      x = product(deprx, sex),
      fill = deprx
    ),
    offset = 0.01,
    show.legend = FALSE
  )+ 
  labs(
    x=&quot;&quot;, 
   y=&quot;&quot;
  )+
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y=element_blank(),
    axis.text.x = element_text(angle = 90, hjust = 1)
  )

poverty_deprx = 
 mosi_regression_df %&gt;%
  ggplot() + 
  geom_mosaic(
    aes(
      x = product(deprx, poverty),
      fill = deprx
    ),
    offset = 0.01
  )+ 
  labs(
    x=&quot;&quot;, 
    y=&quot;&quot;,
    fill = &quot;Whether taken medicine for depression&quot;)+
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y=element_blank(),
    axis.text.x = element_text(angle = 90, hjust = 1)
  )

marital_status_deprx = 
  mosi_regression_df %&gt;%
  ggplot() + 
  geom_mosaic(
    aes(
      x = product(deprx, marital_status),
      fill = deprx
    ),
    offset = 0.01,
    show.legend = FALSE
  )+ 
  labs(
    x=&quot;&quot;, 
    y=&quot;&quot;
  )+
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y=element_blank(),
    axis.text.x = element_text(angle = 90, hjust = 1)
  )

cvddiag_deprx = 
  mosi_regression_df %&gt;%
  ggplot() + 
  geom_mosaic(
    aes(
      x = product(deprx, cvddiag),
      fill = deprx
    ),
    offset = 0.01,
    show.legend = FALSE
  )+ 
  labs(
    x=&quot;&quot;, 
  y=&quot;&quot;
  )+
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y=element_blank(),
    axis.text.x = element_text(angle = 90, hjust = 1),
  )
  
sex_deprx = ggplotly(sex_deprx)

poverty_deprx = 
  ggplotly(poverty_deprx) %&gt;%
  layout(legend = list(orientation = &quot;h&quot;))

marital_status_deprx = ggplotly(marital_status_deprx)

cvddiag_deprx = ggplotly(cvddiag_deprx)
  
subplot(
  style(sex_deprx, showlegend = F), 
  style(cvddiag_deprx, showlegend = F), 
  style(marital_status_deprx, showlegend = F), 
  poverty_deprx, nrows=1) %&gt;% 
  layout(legend = list(x = 0, y = -0.4))</code></pre>
<div id="htmlwidget-9ec965132e4b55f1f398" style="width:90%;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9ec965132e4b55f1f398">{"x":{"data":[{"x":[0.469822488829038,0.469822488829038,1,1,0.469822488829038],"y":[0,0.827218023614565,0.827218023614565,0,0],"text":"No<br>Female<br>Frequency: 7307","key":["No","Female"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.459822488829038,0.459822488829038,0],"y":[0,0.920501030338218,0.920501030338218,0,0],"text":"No<br>Male<br>Frequency: 7052","key":["No","Male"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.469822488829038,0.469822488829038,1,1,0.469822488829038],"y":[0.83675264950702,1,1,0.83675264950702,0.83675264950702],"text":"Yes<br>Female<br>Frequency: 1442","key":["Yes","Female"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.459822488829038,0.459822488829038,0],"y":[0.930035656230674,1,1,0.930035656230674,0.930035656230674],"text":"Yes<br>Male<br>Frequency: 536","key":["Yes","Male"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.963459019403807,0.963459019403807,1,1,0.963459019403807],"y":[0,0.855775223731394,0.855775223731394,0,0],"text":"No<br>Had COVID-19<br>Frequency: 521","key":["No","Had COVID-19"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.953459019403807,0.953459019403807,0],"y":[0,0.87111096014365,0.87111096014365,0,0],"text":"No<br>Never had COVID-19<br>Frequency: 13838","key":["No","Never had COVID-19"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.963459019403807,0.963459019403807,1,1,0.963459019403807],"y":[0.86530984962385,1,1,0.86530984962385,0.86530984962385],"text":"Yes<br>Had COVID-19<br>Frequency: 82","key":["Yes","Had COVID-19"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.953459019403807,0.953459019403807,0],"y":[0.880645586036106,1,1,0.880645586036106,0.880645586036106],"text":"Yes<br>Never had COVID-19<br>Frequency: 1896","key":["Yes","Never had COVID-19"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.581180143233152,0.581180143233152,0.738251821019771,0.738251821019771,0.581180143233152],"y":[0,0.830390162130567,0.830390162130567,0,0],"text":"No<br>Divorced<br>Frequency: 2241","key":["No","Divorced"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.478795372467405,0.478795372467405,0],"y":[0,0.888477101049588,0.888477101049588,0,0],"text":"No<br>Married<br>Frequency: 7309","key":["No","Married"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.773588786190855,0.773588786190855,1,1,0.773588786190855],"y":[0,0.876072150261747,0.876072150261747,0,0],"text":"No<br>Never married<br>Frequency: 3408","key":["No","Never married"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.748251821019771,0.748251821019771,0.763588786190855,0.763588786190855,0.748251821019771],"y":[0,0.842464800965038,0.842464800965038,0,0],"text":"No<br>Separated<br>Frequency: 222","key":["No","Separated"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.488795372467405,0.488795372467405,0.571180143233152,0.571180143233152,0.488795372467405],"y":[0,0.832923449409982,0.832923449409982,0,0],"text":"No<br>Widowed<br>Frequency: 1179","key":["No","Widowed"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.581180143233152,0.581180143233152,0.738251821019771,0.738251821019771,0.581180143233152],"y":[0.839924788023023,1,1,0.839924788023023,0.839924788023023],"text":"Yes<br>Divorced<br>Frequency: 432","key":["Yes","Divorced"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.478795372467405,0.478795372467405,0],"y":[0.898011726942044,1,1,0.898011726942044,0.898011726942044],"text":"Yes<br>Married<br>Frequency: 839","key":["Yes","Married"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.773588786190855,0.773588786190855,1,1,0.773588786190855],"y":[0.885606776154203,1,1,0.885606776154203,0.885606776154203],"text":"Yes<br>Never married<br>Frequency: 445","key":["Yes","Never married"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.748251821019771,0.748251821019771,0.763588786190855,0.763588786190855,0.748251821019771],"y":[0.851999426857493,1,1,0.851999426857493,0.851999426857493],"text":"Yes<br>Separated<br>Frequency: 39","key":["Yes","Separated"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.488795372467405,0.488795372467405,0.571180143233152,0.571180143233152,0.488795372467405],"y":[0.842458075302438,1,1,0.842458075302438,0.842458075302438],"text":"Yes<br>Widowed<br>Frequency: 223","key":["Yes","Widowed"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.097520352573912,0.097520352573912,0.253485340025708,0.253485340025708,0.097520352573912],"y":[0,0.844181257316276,0.844181257316276,0,0],"text":"No<br>1.0-2.0<br>Frequency: 2216","key":["No","1.0-2.0"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":true,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.263485340025709,0.263485340025709,1,1,0.263485340025709],"y":[0,0.884223079132822,0.884223079132822,0,0],"text":"No<br>2.0 and above<br>Frequency: 10961","key":["No","2.0 and above"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.087520352573912,0.087520352573912,0],"y":[0,0.802419514869854,0.802419514869854,0,0],"text":"No<br>Less than 1.0<br>Frequency: 1182","key":["No","Less than 1.0"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(68,1,84,0.8)","hoveron":"fills","name":"No","legendgroup":"No","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.097520352573912,0.097520352573912,0.253485340025708,0.253485340025708,0.097520352573912],"y":[0.853715883208732,1,1,0.853715883208732,0.853715883208732],"text":"Yes<br>1.0-2.0<br>Frequency: 384","key":["Yes","1.0-2.0"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":true,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0.263485340025709,0.263485340025709,1,1,0.263485340025709],"y":[0.893757705025278,1,1,0.893757705025278,0.893757705025278],"text":"Yes<br>2.0 and above<br>Frequency: 1317","key":["Yes","2.0 and above"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[0,0,0.087520352573912,0.087520352573912,0],"y":[0.81195414076231,1,1,0.81195414076231,0.81195414076231],"text":"Yes<br>Less than 1.0<br>Frequency: 277","key":["Yes","Less than 1.0"],"type":"scatter","mode":"lines","line":{"width":0.377952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(253,231,37,0.8)","hoveron":"fills","name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"frame":null}],"layout":{"xaxis":{"domain":[0,0.23],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["Male","Female"],"tickvals":[0.229911244414519,0.734911244414519],"categoryorder":"array","categoryarray":["Male","Female"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","hoverformat":".2f"},"xaxis2":{"domain":[0.27,0.48],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["Never had COVID-19","Had COVID-19"],"tickvals":[0.476729509701904,0.981729509701904],"categoryorder":"array","categoryarray":["Never had COVID-19","Had COVID-19"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","hoverformat":".2f"},"xaxis3":{"domain":[0.52,0.73],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["Married","Widowed","Divorced","Separated","Never married"],"tickvals":[0.239397686233703,0.529987757850279,0.659715982126462,0.755920303605313,0.886794393095428],"categoryorder":"array","categoryarray":["Married","Widowed","Divorced","Separated","Never married"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","hoverformat":".2f"},"xaxis4":{"domain":[0.77,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["Less than 1.0","1.0-2.0","2.0 and above"],"tickvals":[0.043760176286956,0.17550284629981,0.631742670012854],"categoryorder":"array","categoryarray":["Less than 1.0","1.0-2.0","2.0 and above"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y4","hoverformat":".2f"},"yaxis4":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[0.401209757434927,0.905977070381155],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x4","hoverformat":".2f"},"yaxis3":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[0.444238550524794,0.949005863471022],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x3","hoverformat":".2f"},"yaxis2":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[0.435555480071825,0.940322793018053],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x2","hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[0.460250515169109,0.965017828115337],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","hoverformat":".2f"},"annotations":[],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.23,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.27,"x1":0.48,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52,"x1":0.73,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.77,"x1":1,"y0":0,"y1":1}],"images":[],"margin":{"t":30.6118721461187,"r":7.30593607305936,"b":94.2465753424658,"l":10.958904109589},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Whether taken medicine for depression","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"orientation":"h","x":0,"y":-0.4},"hovermode":"closest","barmode":"relative"},"attrs":{"5b04748bb2d":{"x":{},"fill":{},"y":{},"x__fill__deprx":{},"x__sex":{},"type":"scatter"},"5b0450c25d17":{"x":{},"fill":{},"y":{},"x__fill__deprx":{},"x__cvddiag":{},"type":"scatter"},"5b04535d6416":{"x":{},"fill":{},"y":{},"x__fill__deprx":{},"x__marital_status":{},"type":"scatter"},"5b0432954c4":{"x":{},"fill":{},"y":{},"x__fill__deprx":{},"x__poverty":{},"type":"scatter"}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="diagnostics" class="section level2">
<h2>Diagnostics</h2>
<p>We seek to validate our models and assess its goodness of fit. In our
motivating example, we have two models: (1) Crude model and (2) Adjusted
model.</p>
<ul>
<li>The crude model only has the outcome (Whether taking medication for
depression = Yes/No) and the predictor of interest (COVID-19
Status).</li>
<li>The adjusted model has the outcome and predictor of interest along
with other with four covariates (Sex, Age, Poverty(family income
level),and Current Marital Status).</li>
</ul>
<p>We can assess which of these two models fit the data better using the
likelihood ratio test.</p>
<pre class="r"><code>depre_crude_model = 
  glm(deprx ~ cvddiag, 
                            family=binomial(link=&#39;logit&#39;),
                            data = regression_df)</code></pre>
<pre class="r"><code>depre_adjusted_model = 
  glm(deprx ~ sex + poverty + age + marital_status + cvddiag, 
                            family=binomial(link=&#39;logit&#39;),
                            data = regression_df)</code></pre>
<pre class="r"><code>lrtest(depre_crude_model, depre_adjusted_model) %&gt;% 
  kbl(caption     = &quot;Likelihood ratio test for crude model and adjusted model&quot;, col.names   = c(&quot;Total df for each model&quot;, &quot;LogLik&quot;, &quot;difference in df&quot;, &quot;Chisq-statistic&quot;, &quot;p-value&quot;)) %&gt;% 
  kable_paper(&quot;striped&quot;, full_width = F) %&gt;% 
  column_spec(1, bold = T)</code></pre>
<table class=" lightable-paper lightable-striped" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Likelihood ratio test for crude model and adjusted model
</caption>
<thead>
<tr>
<th style="text-align:right;">
Total df for each model
</th>
<th style="text-align:right;">
LogLik
</th>
<th style="text-align:right;">
difference in df
</th>
<th style="text-align:right;">
Chisq-statistic
</th>
<th style="text-align:right;">
p-value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;font-weight: bold;">
2
</td>
<td style="text-align:right;">
-6028.718
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
10
</td>
<td style="text-align:right;">
-5790.814
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
475.8081
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<ul>
<li>Goodness of Fit</li>
<li>Likelihood ratio test The resulting p-value is so small it’s very
close to 0, so we can reject the null hypothesis. The p&lt;0.00001
suggesting that the adjusted model with five covariates (Sex, Age,
Poverty(family income level), Current Marital Status and COVID-19
Status) fits the data significantly better than the crude model.</li>
</ul>
</div>
<div id="results" class="section level2">
<h2>Results</h2>
<p>Since four of these main effects were categorical variables, so we
need to create dummy variables that indicate which levels of the
predictors a given individual belonged. The outcome for this logistic
regression is binary (Whether taking medication for depression =
Yes/No).</p>
<ul>
<li>The variable <code>Sex</code> has one dummy variable and
<code>Sex_Male</code> is the reference group.</li>
<li>The variable <code>poverty</code> has two dummy variables and
<code>poverty_less than 1.0</code> is the reference group.</li>
<li>The variable <code>marital_status</code> has four dummy variables
and <code>marital_status_Married</code> is the reference group.</li>
<li>The variable <code>cvddiag(COVID-19 status)</code>has one dummy
variable and <code>cvddiag_Had COVID-19</code> is the reference
group.</li>
</ul>
<pre class="r"><code>depre_adjusted_model %&gt;%  
   broom::tidy() %&gt;% 
  mutate(OR = exp(estimate),
         Lower_CI = exp(estimate -1.96*std.error),
         Upper_CI = exp(estimate +1.96*std.error)) %&gt;%
  select(term, OR, Lower_CI, Upper_CI, statistic, p.value) %&gt;% 
  kbl(caption     = &quot;Effect of Selected Predictors on whether taking medication for depression&quot;
    , col.names   = c(&quot;Predictors&quot;, &quot;OR&quot;, &quot;Lower bound of 95% CI&quot;,&quot;Upper bound of 95% CI&quot;, &quot;t-statistic&quot;, &quot;p-value&quot;),
    digits= 2) %&gt;% 
  kable_paper(&quot;striped&quot;, full_width = F) %&gt;% 
  column_spec(1, bold = T)</code></pre>
<table class=" lightable-paper lightable-striped" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Effect of Selected Predictors on whether taking medication for
depression
</caption>
<thead>
<tr>
<th style="text-align:left;">
Predictors
</th>
<th style="text-align:right;">
OR
</th>
<th style="text-align:right;">
Lower bound of 95% CI
</th>
<th style="text-align:right;">
Upper bound of 95% CI
</th>
<th style="text-align:right;">
t-statistic
</th>
<th style="text-align:right;">
p-value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
(Intercept)
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-20.43
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
sex_Female
</td>
<td style="text-align:right;">
2.49
</td>
<td style="text-align:right;">
2.24
</td>
<td style="text-align:right;">
2.76
</td>
<td style="text-align:right;">
16.86
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
poverty_1.0-2.0
</td>
<td style="text-align:right;">
0.76
</td>
<td style="text-align:right;">
0.64
</td>
<td style="text-align:right;">
0.90
</td>
<td style="text-align:right;">
-3.13
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
poverty_2.0 and above
</td>
<td style="text-align:right;">
0.59
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.69
</td>
<td style="text-align:right;">
-6.91
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
age
</td>
<td style="text-align:right;">
1.01
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.01
</td>
<td style="text-align:right;">
3.79
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
marital_status_Widowed
</td>
<td style="text-align:right;">
1.13
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
1.35
</td>
<td style="text-align:right;">
1.41
</td>
<td style="text-align:right;">
0.16
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
marital_status_Divorced
</td>
<td style="text-align:right;">
1.45
</td>
<td style="text-align:right;">
1.28
</td>
<td style="text-align:right;">
1.66
</td>
<td style="text-align:right;">
5.64
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
marital_status_Separated
</td>
<td style="text-align:right;">
1.31
</td>
<td style="text-align:right;">
0.92
</td>
<td style="text-align:right;">
1.87
</td>
<td style="text-align:right;">
1.47
</td>
<td style="text-align:right;">
0.14
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
marital_status_Never married
</td>
<td style="text-align:right;">
1.19
</td>
<td style="text-align:right;">
1.04
</td>
<td style="text-align:right;">
1.36
</td>
<td style="text-align:right;">
2.54
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
cvddiag_Had COVID-19
</td>
<td style="text-align:right;">
1.13
</td>
<td style="text-align:right;">
0.89
</td>
<td style="text-align:right;">
1.45
</td>
<td style="text-align:right;">
1.02
</td>
<td style="text-align:right;">
0.31
</td>
</tr>
</tbody>
</table>
<p>After adjustment for sex, age, poverty(family income level), and
Current Marital Status, we obtained the <code>p-value</code> for the
variable <code>cvddiage(COVID-19 status)</code>is 0.31 &gt; α=0.05.
Hence, we find no statistically significant association between COVID-19
status and taking medication for depression (aOR: 1.13, 95% CI: 0.89,
1.45). In addition, the findings in the statistical analysis matches
what we get in the depression trend section of our exploratory analysis.
Due to the Table 2 fallacy, we should avoid interpreting covariates
other than the exposure of interest, but they are included here for
completeness.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
